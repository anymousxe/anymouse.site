<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mouseland | Official Government Archive</title>
    
    <link rel="icon" type="image/png" href="mouseicon.png">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@anymousxe">
    <meta name="twitter:title" content="Mouseland | Official Government Site">
    <meta name="twitter:description" content="The official hub of Mouseland. MIC Updates, War Room, and National News.">
    <meta name="twitter:image" content="mouselandcard.png">

    <style>
        /* --- CONFIG & VARIABLES --- */
        :root {
            --bg-color: #09090b; 
            --card-bg: #111113;  
            --text-main: #e4e4e7;
            --text-muted: #a1a1aa;
            --mouseland-accent: #10b981; 
            --link-color: #3b82f6;
            --danger: #ef4444;            
            --warning: #f59e0b;            
            --border: #27272a;            
            --font-main: 'Inter', system-ui, -apple-system, sans-serif;
            --war-red: #8b0000;
        }

        /* --- RESET --- */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: var(--font-main);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        /* --- VISUAL FX LAYERS --- */
        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; 
            opacity: 0.4;
        }

        #intro-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: transform 1.2s cubic-bezier(0.85, 0, 0.15, 1);
        }
        .intro-content { text-align: center; }
        .intro-title { font-size: 4rem; font-weight: 900; color: var(--mouseland-accent); margin-bottom: 1rem; letter-spacing: 5px; }
        
        #enter-btn {
            background: transparent;
            border: 1px solid var(--mouseland-accent);
            color: var(--mouseland-accent);
            padding: 1.2rem 2.5rem;
            font-family: 'Courier New', monospace;
            cursor: pointer;
            font-weight: bold;
            transition: 0.4s;
            text-transform: uppercase;
        }
        #enter-btn:hover { background: var(--mouseland-accent); color: #000; box-shadow: 0 0 30px var(--mouseland-accent); }

        /* --- LAYOUT --- */
        .container { max-width: 1100px; margin: 0 auto; padding: 0 2rem; position: relative; z-index: 10; }
        
        .ml-header {
            padding: 4rem 0;
            margin-bottom: 2rem;
            border-bottom: 1px solid var(--border);
            background: radial-gradient(circle at top, rgba(16, 185, 129, 0.05) 0%, transparent 70%);
            text-align: center;
        }
        .nav-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; }
        .flag-img { width: 140px; border-radius: 4px; box-shadow: 0 0 20px rgba(0,0,0,0.8); margin-bottom: 1.5rem; border: 1px solid #444; }

        /* Buttons */
        .btn { display: inline-flex; align-items: center; justify-content: center; padding: 0.7rem 1.4rem; border-radius: 6px; font-weight: 600; font-size: 0.9rem; cursor: pointer; border: none; transition: all 0.2s ease; }
        .btn-sm { padding: 0.4rem 0.8rem; font-size: 0.8rem; }
        .btn-ghost { background: transparent; color: var(--text-muted); border: 1px solid var(--border); }
        .btn-ghost:hover { color: #fff; border-color: #fff; }
        .btn-primary { background: #fff; color: #000; }
        .btn-mouseland { background: var(--mouseland-accent); color: #000; }
        .btn-danger { background: rgba(239, 68, 68, 0.2); color: var(--danger); border: 1px solid var(--danger); }

        /* Admin */
        .admin-panel {
            background: #0a0a0a;
            border: 1px solid var(--border);
            border-left: 4px solid var(--mouseland-accent);
            padding: 2rem;
            border-radius: 8px;
            margin-bottom: 3rem;
            display: none; 
        }
        .admin-input, .admin-textarea {
            background: #000; border: 1px solid #333; padding: 1rem; color: #fff; border-radius: 4px; width: 100%; margin-bottom: 15px;
        }

        /* --- WAR ROOM (EXPANDED LORE SECTION) --- */
        .war-room-container {
            background: linear-gradient(180deg, rgba(20, 20, 20, 0.8), rgba(10, 10, 10, 0.9));
            border: 1px solid #333;
            border-top: 5px solid var(--danger);
            padding: 3rem;
            border-radius: 12px;
            margin: 5rem 0;
            box-shadow: 0 10px 50px rgba(0,0,0,0.5);
        }
        .war-stage {
            margin-bottom: 4rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #222;
        }
        .war-stage h3 {
            color: var(--danger);
            text-transform: uppercase;
            font-size: 1.5rem;
            margin-bottom: 1rem;
            font-family: 'Courier New', monospace;
        }
        .war-stage p {
            font-size: 1.05rem;
            color: #ccc;
            margin-bottom: 1.5rem;
            max-width: 850px;
        }
        .faction-highlight { font-weight: bold; color: var(--mouseland-accent); }
        .enemy-highlight { font-weight: bold; color: var(--danger); }
        .ally-highlight { font-weight: bold; color: var(--link-color); }

        .map-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        .map-card {
            background: #000;
            padding: 15px;
            border: 1px solid #333;
            border-radius: 10px;
            text-align: center;
        }
        .map-card img { width: 100%; height: auto; border-radius: 6px; border: 1px solid #222; margin-bottom: 10px; }

        /* Leadership Cards */
        .leadership-section { display: flex; justify-content: center; gap: 3rem; flex-wrap: wrap; margin-bottom: 5rem; }
        .leader-card { background: var(--card-bg); border: 1px solid var(--border); padding: 2.5rem; border-radius: 15px; text-align: center; width: 300px; }
        .leader-img { width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 4px solid var(--border); margin-bottom: 1.5rem; }

        /* News Section */
        .news-archive-container {
            max-height: 800px; 
            overflow-y: auto;  
            border: 1px solid #222;
            padding: 2rem;
            border-radius: 12px;
            background: rgba(0,0,0,0.4);
        }
        .news-item { background: #121214; border: 1px solid var(--border); padding: 2rem; border-radius: 8px; margin-bottom: 2rem; }
        
        /* Cities Grid */
        .cities-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 2rem; margin-top: 3rem; }
        .city-card { background: #111; border-radius: 12px; overflow: hidden; border: 1px solid #222; text-align: center; }
        .city-card img { width: 100%; height: 140px; object-fit: cover; }
        .city-name { padding: 1rem; font-weight: bold; }

        /* Modal Styles */
        .modal { display: none; position: fixed; z-index: 10000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); align-items: center; justify-content: center; backdrop-filter: blur(10px); }
        .modal-content { background: #18181b; padding: 3rem; border-radius: 16px; border: 1px solid var(--mouseland-accent); width: 100%; max-width: 450px; text-align: center; }
        
        footer { padding: 5rem 0; border-top: 1px solid #222; text-align: center; color: #444; margin-top: 5rem; font-size: 0.8rem; }
    </style>
</head>
<body>

    <audio id="bg-music" loop><source src="lofi.mp3" type="audio/mpeg"></audio>
    <audio id="sfx-hover"><source src="hover.mp3" type="audio/mpeg"></audio>
    <audio id="sfx-click"><source src="click.mp3" type="audio/mpeg"></audio>

    <canvas id="bg-canvas"></canvas>
    
    <div id="intro-overlay">
        <div class="intro-content">
            <div class="intro-title">MOUSELAND</div>
            <p style="color: #666; font-family: monospace; letter-spacing: 3px; margin-bottom: 3rem;">ENCRYPTED GOV PROTOCOL // ANYMOUSXE_AUTH</p>
            <button id="enter-btn">DECRYPT SYSTEMS</button>
        </div>
    </div>

    <div id="main-content">
        
        <header class="ml-header">
            <div class="container">
                <nav class="nav-bar">
                    <a href="https://anymouse.site" class="btn btn-sm btn-ghost">‚Üê BACK TO ANYMOUSE.SITE</a>
                    <div id="auth-container">
                        <button id="login-trigger-btn" class="btn btn-sm btn-primary">LOG IN</button>
                    </div>
                </nav>
                <div>
                    <img src="mouselandflag.png" alt="State Flag" class="flag-img tilt-card">
                    <h1 class="tilt-card" style="font-size: 3.5rem;">The Mouseland Archive</h1>
                    <p style="color: var(--mouseland-accent); letter-spacing: 5px;">UNITY ‚Ä¢ CHEESE ‚Ä¢ STRENGTH</p>
                </div>
            </div>
        </header>

        <div class="container">

            <section id="admin-panel" class="admin-panel">
                <h3 style="color: var(--mouseland-accent); margin-bottom: 1.5rem;"><i class="fas fa-crown"></i> MIC COMMAND CENTER</h3>
                <div id="edit-indicator" style="display:none; color: var(--warning); font-weight:bold; margin-bottom: 1rem;">[ EDITING PREVIOUS LOG ]</div>
                <form id="post-form">
                    <input type="text" id="post-title" class="admin-input" placeholder="Transmission Title" required>
                    <textarea id="post-content" class="admin-textarea" rows="4" placeholder="Type transmission... Links will auto-embed." required></textarea>
                    <select id="post-type" class="admin-input">
                        <option value="standard">Standard Transmission</option>
                        <option value="urgent">üö® HIGH PRIORITY</option>
                        <option value="decree">üìú STATE DECREE</option>
                        <option value="war">‚öîÔ∏è WAR UPDATE</option>
                    </select>
                    <div style="display: flex; gap: 15px;">
                        <button type="submit" id="submit-btn" class="btn btn-mouseland" style="flex: 2;">BROADCAST</button>
                        <button type="button" id="cancel-edit-btn" class="btn btn-danger" style="display: none; flex: 1;">ABORT</button>
                    </div>
                </form>
            </section>

            <section class="leadership-section">
                <div class="leader-card tilt-card">
                    <img src="anymousxe.png" class="leader-img">
                    <h2>Anymousxe</h2>
                    <p style="color: var(--mouseland-accent); font-weight: bold; text-transform: uppercase;">MIC (Mice In Charge)</p>
                </div>
                <div class="leader-card tilt-card">
                    <img src="color.png" class="leader-img">
                    <h2>Color</h2>
                    <p style="color: #a855f7; font-weight: bold; text-transform: uppercase;">VMIC (Vice Mice In Charge)</p>
                </div>
            </section>

            <section id="war-room" class="war-room-container">
                <h2 style="color: var(--danger); font-size: 2.5rem; text-transform: uppercase; margin-bottom: 2rem;">
                    <i class="fas fa-skull-crossbones"></i> The Great Resource War Archive
                </h2>
                <p style="color: var(--warning); font-weight: bold; margin-bottom: 20px;">[ STATUS: ACTIVE CONFLICT ]</p>
                
                <div class="war-stage">
                    <h3>Stage I: The Fry-Nugget Schism</h3>
                    <p>
                        The conflict ignited when trade relations collapsed between <span class="faction-highlight">Nuggetland</span> and <span class="faction-highlight">Fryland</span>. Mouseland held alliances with both, but the Council made the strategic choice to side with <span class="faction-highlight">Fryland</span>. We officially mobilized our infantry to secure the borders.
                    </p>
                </div>

                <div class="war-stage">
                    <h3>Stage II: The Coalition Entry</h3>
                    <p>
                        The war spiraled as the powers of <span class="enemy-highlight">Burgerland</span>, <span class="enemy-highlight">Frogland</span>, and <span class="enemy-highlight">Cheeseland</span> entered the fray. They formed a hostile coalition against Mouseland territory, Stretching our defenses to the breaking point.
                    </p>
                </div>

                <div class="war-stage">
                    <h3>Stage III: The Great Betrayal</h3>
                    <p>
                        In the darkest turn of the war, our "allies" in <span class="faction-highlight">Fryland</span> backstabbed us. They turned their heavy weaponry on Mouseland forces mid-battle, leaving us isolated and surrounded by enemies on all fronts.
                    </p>
                </div>

                <div class="war-stage">
                    <h3>Stage IV: Whisker Union Intervention</h3>
                    <p>
                        Just as the capital walls were breached, the <span class="ally-highlight">United Whisker Union</span> (UWU) answered our emergency broadcast. Their flanking maneuvers provided our remaining troops with vital breathing room to regroup.
                    </p>
                </div>

                <div class="war-stage">
                    <h3>Stage V: The Websim Protocol (CURRENT)</h3>
                    <p>
                        To prevent total collapse, Anymousxe initiated the <strong>Websim Protocol</strong>. We have called in <span class="ally-highlight">United Websim</span> for emergency backup. They have deployed thousands of <strong>AI Combat Bots</strong> to the warzone. The war is <strong>not over</strong>‚Äîwe are currently holding the line with AI reinforcements.
                    </p>
                </div>

                <div class="map-grid">
                    <div class="map-card tilt-card">
                        <img src="mouselandmap.png" alt="General Map">
                        <div style="color: #888; font-size: 0.8rem; text-transform: uppercase;">National Survey v2.6</div>
                    </div>
                    <div class="map-card tilt-card">
                        <img src="mouseland%20war%20map.png" alt="Strategic Map">
                        <div style="color: var(--danger); font-size: 0.8rem; text-transform: uppercase;">Strategic Frontlines (Ongoing)</div>
                    </div>
                </div>
            </section>

            <section class="news-section">
                <h2 style="margin-bottom: 2rem; border-left: 5px solid var(--mouseland-accent); padding-left: 1rem;">STATE BROADCASTS</h2>
                <div id="news-feed" class="news-archive-container">
                    <div style="text-align: center; padding: 3rem; color: #555;">SYNCING WITH FIREBASE...</div>
                </div>
            </section>

            <section style="margin-top: 8rem;">
                <h2 style="text-align: center; text-transform: uppercase; letter-spacing: 5px;">The Five Great Cities</h2>
                <div class="cities-grid">
                    <div class="city-card"><img src="boxborough.png"><div class="city-name">Boxborough</div></div>
                    <div class="city-card"><img src="corrugatecrossing.png"><div class="city-name">Corrugate Crossing</div></div>
                    <div class="city-card"><img src="rodentiamajor.png"><div class="city-name">Rodentia Major</div></div>
                    <div class="city-card"><img src="rubbishheights.png"><div class="city-name">Rubbish Heights</div></div>
                    <div class="city-card"><img src="mec.png"><div class="city-name">MEC</div></div>
                </div>
            </section>

            <section style="margin-top: 8rem; text-align: center;">
                <h2 style="margin-bottom: 2rem;">Authorized Citizen Identification</h2>
                <img src="mouselandcard.png" style="width: 100%; max-width: 500px; border-radius: 20px; border: 1px solid var(--mouseland-accent); box-shadow: 0 0 30px rgba(16, 185, 129, 0.2);">
            </section>

        </div>

        <footer>
            <div class="container">
                <p>&copy; 2026 MOUSELAND GOVERNMENT | SYSTEM OPERATOR: ANYMOUSXE</p>
                <p style="margin-top: 10px; opacity: 0.5;">POWERED BY FIREBASE, WEBSIM, AND SHEER DETERMINATION</p>
            </div>
        </footer>
    </div>

    <div id="login-modal" class="modal">
        <div class="modal-content">
            <h2 style="margin-bottom: 1.5rem;">PROTOCOL LOGIN</h2>
            <button id="google-auth-btn" class="btn btn-primary" style="width:100%; margin-bottom: 1rem;">GOOGLE AUTHENTICATION</button>
            <div style="margin: 1rem 0; color: #444;">-- OR --</div>
            <form id="email-auth-form">
                <input type="email" id="auth-email" class="admin-input" placeholder="Email Address" required>
                <input type="password" id="auth-password" class="admin-input" placeholder="Secure Password" required>
                <button type="submit" class="btn btn-mouseland" style="width:100%;">ACCESS SYSTEM</button>
            </form>
            <p id="auth-error" style="color:var(--danger); display:none; margin-top:1.5rem; font-size: 0.8rem;"></p>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
        import { getFirestore, collection, addDoc, query, orderBy, onSnapshot, serverTimestamp, deleteDoc, updateDoc, doc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

        // --- VISUAL LOGIC ---
        document.addEventListener('DOMContentLoaded', () => {
            const enterBtn = document.getElementById('enter-btn');
            const overlay = document.getElementById('intro-overlay');
            const bgMusic = document.getElementById('bg-music');
            
            if(bgMusic) bgMusic.volume = 0.25;
            
            enterBtn.onclick = () => {
                document.getElementById('sfx-click').play();
                bgMusic.play().catch(() => {});
                overlay.style.transform = 'translateY(-100%)';
            };

            const canvas = document.getElementById('bg-canvas');
            const ctx = canvas.getContext('2d');
            let particles = [];
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            class Particle {
                constructor() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.size = Math.random() * 1.5 + 0.5;
                    this.speedX = (Math.random() - 0.5) * 0.5;
                    this.speedY = (Math.random() - 0.5) * 0.5;
                }
                update() {
                    this.x += this.speedX;
                    this.y += this.speedY;
                    if (this.x > canvas.width || this.x < 0) this.speedX *= -1;
                    if (this.y > canvas.height || this.y < 0) this.speedY *= -1;
                }
                draw() {
                    ctx.fillStyle = '#10b981';
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fill();
                }
            }
            for(let i=0; i<100; i++) particles.push(new Particle());
            function animate() {
                ctx.clearRect(0,0,canvas.width, canvas.height);
                particles.forEach(p => { p.update(); p.draw(); });
                requestAnimationFrame(animate);
            }
            animate();
        });

        // --- FIREBASE LOGIC ---
        const firebaseConfig = {
            apiKey: "AIzaSyDsoQrx2jyRQzwJ3XhB3biznqQLdmJtEKY",
            authDomain: "mouseland-istuff.firebaseapp.com",
            projectId: "mouseland-istuff",
            storageBucket: "mouseland-istuff.firebasestorage.app",
            messagingSenderId: "459629527486",
            appId: "1:459629527486:web:0c038f1fad27ef288879ef"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const provider = new GoogleAuthProvider();
        const WHITELIST = ["anymousxe.info@gmail.com", "colorvicemouseincharge@proton.me"];

        let isEditing = false;
        let editDocId = null;

        const modal = document.getElementById('login-modal');
        const adminPanel = document.getElementById('admin-panel');
        const newsFeed = document.getElementById('news-feed');
        const postForm = document.getElementById('post-form');

        document.getElementById('login-trigger-btn').onclick = () => modal.style.display = 'flex';
        window.onclick = (e) => { if(e.target == modal) modal.style.display = 'none'; };

        document.getElementById('google-auth-btn').onclick = () => signInWithPopup(auth, provider).then(() => modal.style.display='none');
        document.getElementById('email-auth-form').onsubmit = (e) => {
            e.preventDefault();
            signInWithEmailAndPassword(auth, document.getElementById('auth-email').value, document.getElementById('auth-password').value)
                .then(() => modal.style.display='none')
                .catch(err => {
                    const errEl = document.getElementById('auth-error');
                    errEl.style.display = 'block';
                    errEl.textContent = err.message;
                });
        };

        onAuthStateChanged(auth, (user) => {
            const container = document.getElementById('auth-container');
            if (user) {
                const isAdmin = WHITELIST.includes(user.email.toLowerCase());
                container.innerHTML = `<button id="logout-btn" class="btn btn-sm btn-danger">DISCONNECT</button>`;
                document.getElementById('logout-btn').onclick = () => signOut(auth);
                if(isAdmin) adminPanel.style.display = "block";
            } else {
                container.innerHTML = `<button id="login-trigger-btn" class="btn btn-sm btn-primary">LOG IN</button>`;
                document.getElementById('login-trigger-btn').onclick = () => modal.style.display = 'flex';
                adminPanel.style.display = "none";
            }
        });

        postForm.onsubmit = async (e) => {
            e.preventDefault();
            const user = auth.currentUser;
            if(!user || !WHITELIST.includes(user.email.toLowerCase())) return;

            const payload = {
                title: document.getElementById('post-title').value,
                content: document.getElementById('post-content').value,
                type: document.getElementById('post-type').value,
                author: user.email.includes("anymousxe") ? "Anymousxe" : "Color",
                role: user.email.includes("anymousxe") ? "MIC" : "VMIC",
                pfp: user.email.includes("anymousxe") ? "anymousxe.png" : "color.png",
                updatedAt: serverTimestamp()
            };

            if(isEditing) {
                await updateDoc(doc(db, "updates", editDocId), payload);
                resetForm();
            } else {
                payload.createdAt = serverTimestamp();
                await addDoc(collection(db, "updates"), payload);
                postForm.reset();
            }
        };

        function resetForm() {
            isEditing = false;
            editDocId = null;
            postForm.reset();
            document.getElementById('submit-btn').textContent = "BROADCAST";
            document.getElementById('cancel-edit-btn').style.display = "none";
            document.getElementById('edit-indicator').style.display = "none";
        }

        document.getElementById('cancel-edit-btn').onclick = resetForm;

        onSnapshot(query(collection(db, "updates"), orderBy("createdAt", "desc")), (snapshot) => {
            newsFeed.innerHTML = "";
            snapshot.forEach((docSnap) => {
                const data = docSnap.data();
                const isAdmin = auth.currentUser && WHITELIST.includes(auth.currentUser.email.toLowerCase());
                
                const item = document.createElement('div');
                item.className = `news-item ${data.type}`;
                item.innerHTML = `
                    <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                        <div style="display:flex; gap:15px; align-items:center;">
                            <img src="${data.pfp}" style="width:40px; height:40px; border-radius:50%; border:1px solid #444;">
                            <div>
                                <div style="font-weight:bold; font-size:0.9rem;">${data.author} <span style="font-size:0.6rem; background:var(--mouseland-accent); color:#000; padding:2px 5px; border-radius:3px;">${data.role}</span></div>
                                <div style="font-size:0.7rem; color:#555;">${data.createdAt?.toDate().toLocaleString() || 'Just now'}</div>
                            </div>
                        </div>
                        ${isAdmin ? `
                            <div>
                                <i class="fas fa-edit edit-post" style="cursor:pointer; color:var(--link-color); margin-right:15px;" data-id="${docSnap.id}"></i>
                                <i class="fas fa-trash delete-post" style="cursor:pointer; color:var(--danger);" data-id="${docSnap.id}"></i>
                            </div>
                        ` : ''}
                    </div>
                    <h3 style="margin:1rem 0 0.5rem 0; color:${data.type === 'urgent' ? 'var(--danger)' : '#fff'};">${data.title}</h3>
                    <p style="color:#aaa;">${data.content}</p>
                `;
                newsFeed.appendChild(item);
            });

            document.querySelectorAll('.delete-post').forEach(b => {
                b.onclick = async () => { if(confirm("Permanently delete log?")) await deleteDoc(doc(db, "updates", b.dataset.id)); };
            });
            document.querySelectorAll('.edit-post').forEach(b => {
                b.onclick = () => {
                    const id = b.dataset.id;
                    const docData = snapshot.docs.find(d => d.id === id).data();
                    document.getElementById('post-title').value = docData.title;
                    document.getElementById('post-content').value = docData.content;
                    document.getElementById('post-type').value = docData.type;
                    isEditing = true;
                    editDocId = id;
                    document.getElementById('submit-btn').textContent = "SAVE CHANGES";
                    document.getElementById('cancel-edit-btn').style.display = "block";
                    document.getElementById('edit-indicator').style.display = "block";
                    adminPanel.scrollIntoView({behavior:'smooth'});
                };
            });
        });

        document.querySelectorAll('.tilt-card').forEach(c => {
            c.onmouseenter = () => document.getElementById('sfx-hover').play();
        });
    </script>
</body>
</html>
